(window.webpackJsonpmpp=window.webpackJsonpmpp||[]).push([[0],{152:function(e,t,n){e.exports=n.p+"static/media/logo.2054d5e3.png"},178:function(e,t,n){e.exports=n(234)},183:function(e,t,n){},234:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),l=n.n(o),c=(n(183),n(9)),i=n(155),s=n(283),u=a.createContext({notes:[],setNotes:function(){}}),m=Object(a.createContext)({workshops:[],setWorkshops:function(){}}),d=Object(a.createContext)({dropdowns:{},setDropdowns:function(){}}),p=n(24),b=n(17),f=n(36),v=n(10),h=n(260),E=n(82),g=n(264),y=n(144),O=n.n(y),j=(n(184),n(102)),C=n(11),x=n(58),w=n.n(x),k=n(35),P=n.n(k),N=n(59),S=n(77),B=n.n(S),D="https://api.mpp.reconnect.fr",I="".concat(D,"/api"),A="".concat(D,"/admin_login"),q=("".concat(I,"/age_breakpoints"),"".concat(I,"/centers")),M="".concat(I,"/dropdowns"),R=("".concat(I,"/equipment_suppliers"),"".concat(D,"/login")),V="".concat(I,"/notes"),F=("".concat(I,"/participant_kinds"),"".concat(I,"/skills"),"".concat(I,"/tags")),T=("".concat(I,"/topics"),"".concat(I,"/used_equipments"),"".concat(I,"/workshops")),z=function(){var e=Object(N.a)(P.a.mark(function e(t){var n,a,r,o,l=arguments;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:"get",a=l.length>2&&void 0!==l[2]?l[2]:{},null===(r=localStorage.getItem("token"))){e.next=8;break}return o={Authorization:"Bearer ".concat(r)},e.abrupt("return",B()({method:n,url:t,headers:o,data:a}));case 8:"/login"!==window.location.pathname&&(window.location.href="/login");case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L(){var e=Object(v.a)(["\n  position: absolute !important;\n  right: 10px;\n  top: 10px;\n"]);return L=function(){return e},e}var _=Object(C.a)(h.a)(L()),J=Object(b.h)(function(e){var t=e.history,n=(e.match,Object(a.useContext)(u)),o=Object(a.useCallback)(function(){var e=localStorage.getItem("token");null!==e?w.a.get("".concat(V)).set("Authorization","Bearer ".concat(e)).then(function(e){n.setNotes(e.body["hydra:member"])}):t.push("/login")},[t,n]);Object(a.useEffect)(function(){o()},[o]);var l={},c={},i={};return n.notes.forEach(function(e,t){l=W({},l,Object(f.a)({},e.date,e.nbProAccounts)),c=W({},c,Object(f.a)({},e.date,e.nbBeneficiariesAccounts)),i=W({},i,Object(f.a)({},e.date,e.nbStoredDocs))}),r.a.createElement(g.a,{maxWidth:"sm"},r.a.createElement(_,{size:"small",color:"primary","aria-label":"add",onClick:function(){return t.push("")}},r.a.createElement(O.a,null)),r.a.createElement(E.a,{variant:"h3",component:"h2",gutterBottom:!0,color:"textPrimary"},"Statistiques"),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0,color:"textPrimary"},"Nombre de comptes b\xe9n\xe9ficiaires cr\xe9es par permanence"),r.a.createElement(j.a,{data:c,colors:["white"]}),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0,color:"textPrimary"},"Nombre de comptes pros cr\xe9es par permanence"),r.a.createElement(j.a,{data:l,colors:["#d35400"]}),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0,color:"textPrimary"},"Nombre de documents stock\xe9s par permanence"),r.a.createElement(j.a,{data:i,colors:["#8e44ad"]}))}),Q=n(265),U=n(292),$=n(291),G=n(269),H=n(236),X=n(270),Y=n(271),Z=n(145),ee=n.n(Z),te=n(146),ne=n.n(te),ae=n(147),re=n.n(ae),oe=n(148),le=n.n(oe),ce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return a.useCallback(function(){var a=Object(N.a)(P.a.mark(function a(r){var o,l;return P.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,z(e,n,r);case 3:o=a.sent,l=o.data,null!==t&&t(l),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("Error making http call",e,a.t0.message);case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}(),[e])},ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",r=ce(e,t,n);return a.useEffect(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(e)},[e])};function se(){var e=Object(v.a)(["\n  position: absolute !important;\n  left: 50px;\n\n  top: 10px;\n"]);return se=function(){return e},e}function ue(){var e=Object(v.a)(["\n  position: absolute !important;\n  right: 100px;\n  top: 10px;\n"]);return ue=function(){return e},e}function me(){var e=Object(v.a)(["\n  position: absolute !important;\n  right: 10px;\n  top: 10px;\n"]);return me=function(){return e},e}function de(){var e=Object(v.a)(["\n  background-color: #212121;\n  color: white;\n  cursor: pointer;\n  border-radius: 12px;\n  padding: 10px;\n"]);return de=function(){return e},e}function pe(){var e=Object(v.a)(["\n  display: flex;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  justify-content: space-around;\n"]);return pe=function(){return e},e}function be(){var e=Object(v.a)(["\n  padding-top: 50px;\n  display: flex;\n  flex-direction: column;\n"]);return be=function(){return e},e}var fe=C.a.div(be()),ve=C.a.div(pe()),he=C.a.a(de()),Ee=Object(C.a)(h.a)(me()),ge=Object(C.a)(Q.a)(ue()),ye=Object(C.a)(Q.a)(se()),Oe=function(){var e=Object(b.e)(),t=Object(a.useState)([]),n=Object(c.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)([]),s=Object(c.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)([]),p=Object(c.a)(d,2),f=p[0],v=p[1];ie(q,function(e){l(e["hydra:member"]),v(e["hydra:member"])}),ie(F,function(e){return m(e["hydra:member"])});return r.a.createElement(g.a,{maxWidth:"md"},r.a.createElement(fe,null,r.a.createElement(ge,{onClick:function(){localStorage.removeItem("token"),e.push("/login")}},"D\xe9connexion"),r.a.createElement(ye,{onClick:function(){var e=localStorage.getItem("token");window.location.replace("".concat(A,"?token=").concat(e))}},"Admin"),r.a.createElement(Ee,{size:"small",color:"primary","aria-label":"add",onClick:function(){return e.push("/charts")}},r.a.createElement(ee.a,null)),r.a.createElement(E.a,{variant:"h2",component:"h2",gutterBottom:!0,color:"textPrimary"},"Centres"),r.a.createElement(ve,null,u.map(function(e){return r.a.createElement(U.a,{key:e.id,label:e.name,clickable:!0,color:"secondary",onClick:function(){return t=e.id,void v(o.filter(function(e){return e.tags.includes("/api/tags/".concat(t))}));var t}})})),r.a.createElement($.a,{id:"outlined-basic",label:"Rechercher",variant:"outlined",onChange:function(e){var t=e.target.value;v(o.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}}),r.a.createElement(G.a,{dense:!1},f.map(function(t){return r.a.createElement(H.a,{key:t.id},r.a.createElement(X.a,null,r.a.createElement(ne.a,{htmlColor:"white"})),r.a.createElement(Y.a,{secondary:t.name}),t.permanence?r.a.createElement(he,{style:{textAlign:"center",width:200},onClick:function(){return e.push("/notes/".concat(t.id))}},r.a.createElement(re.a,{htmlColor:"white"}),r.a.createElement(Y.a,{primary:"Permanences"})):null,t.workshop?r.a.createElement(he,{style:{marginLeft:8,textAlign:"center",width:200},onClick:function(){return e.push("/centers/".concat(t.id,"/workshops"))}},r.a.createElement(le.a,{htmlColor:"white"}),r.a.createElement(Y.a,{primary:"Ateliers"})):null)}))))},je=n(153),Ce=n.n(je),xe=n(62),we=n(151),ke=n.n(we),Pe=n(152),Ne=n.n(Pe);function Se(){var e=Object(v.a)(["\n  padding-top: 100px;\n  margin-bottom: 200px;\n  display: flex;\n  flex-direction: column;\n"]);return Se=function(){return e},e}function Be(){var e=Object(v.a)(["\n  padding-top: 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Be=function(){return e},e}function De(){var e=Object(v.a)(["\n  width: 140px;\n  height: 140px;\n  align-self: center;\n"]);return De=function(){return e},e}var Ie=C.a.img(De()),Ae=C.a.div(Be()),qe=C.a.form(Se()),Me=Object(b.h)(function(e){var t=e.history,n=e.location,r=ke.a.parse(n.search);r&&r.token&&"string"===typeof r.token&&(localStorage.setItem("token",r.token.toString()),t.push("/"));return a.createElement(g.a,{maxWidth:"sm"},a.createElement(Ae,null,a.createElement(E.a,{variant:"h3",component:"h2",gutterBottom:!0,color:"textPrimary"},"Ma petite permanence"),a.createElement(Ie,{src:Ne.a,alt:"logo"})),a.createElement(xe.a,{initialValues:{email:"",password:""},onSubmit:function(e){var n,a;n=e.email,a=e.password,B.a.post(R,{email:n,password:a}).then(function(e){localStorage.setItem("token",e.data.token),t.push("/")})},render:function(e){return a.createElement(qe,{onSubmit:e.handleSubmit},a.createElement($.a,{id:"email",name:"email",type:"email",label:"Email",margin:"normal",variant:"outlined",onChange:e.handleChange}),e.errors.email&&a.createElement("div",{id:"feedback"},e.errors.email),a.createElement($.a,{id:"password",name:"password",type:"password",label:"Password",margin:"normal",variant:"outlined",onChange:e.handleChange}),e.errors.password&&a.createElement("div",{id:"feedback"},e.errors.password),a.createElement(Q.a,{variant:"outlined",color:"primary",type:"submit"},"Login"),a.createElement(Q.a,{color:"primary",variant:"contained",style:{marginTop:50,marginBottom:100,fontSize:20},href:"".concat(D,"/oauth/trigger")},a.createElement(Ce.a,{style:{marginRight:20}}),"Me connecter avec Reconnect Pro"))}}))}),Re=n(290),Ve=n(278),Fe=n(273),Te=n(274),ze=n(279),Ke=n(286),We=n(97),Le=n.n(We),_e=n(114),Je=n(64),Qe=n(44),Ue=n(80),$e=n(22),Ge=n(284);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Xe(){var e=Object(v.a)(["\n  margin-bottom: 100px;\n  display: flex;\n  flex-direction: column;\n"]);return Xe=function(){return e},e}var Ye=C.a.form(Xe()),Ze=Object(b.h)(function(e){var t=e.history,n=e.centerId,r=e.closeModal,o=a.useContext(u),l=o.notes,i=o.setNotes,s=a.useState(new Date),m=Object(c.a)(s,2),d=m[0],p=m[1];function b(e){p(e)}return a.createElement(g.a,{maxWidth:"sm"},a.createElement(xe.a,{initialValues:{date:new Date,center:"",hours:0,attendees:"",place:"",nbPros:0,nbProAccounts:0,nbBeneficiaries:0,nbBeneficiariesAccounts:0,nbStoredDocs:0,beneficiariesNotes:"",proNotes:"",reconnectNotes:""},onSubmit:function(e){!function(e){var n=localStorage.getItem("token");null!==n?w.a.post(V).send(e).set("Authorization","Bearer ".concat(n)).then(function(e){r(),i([e.body].concat(Object(Qe.a)(l)))}):(alert("Il semble que vous ne soyez pas connect\xe9, veuillex vous reconnecter"),t.push("/login"))}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{date:d,center:"/api/centers/".concat(n)}))},render:function(e){return a.createElement(Ye,{onSubmit:e.handleSubmit},a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1}},a.createElement($e.a,{utils:Ue.a},a.createElement(Ge.a,{disableToolbar:!0,format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Date",onChange:b,variant:"inline",value:d,KeyboardButtonProps:{"aria-label":"change date"}}))),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"hours",label:"Nombre d'heures",name:"hours",onChange:e.handleChange,type:"number",variant:"outlined"}))),a.createElement("div",{style:{height:16}}),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-pros",label:"Nb pros rencontr\xe9s",name:"nbPros",onChange:e.handleChange,type:"number",variant:"outlined"})),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-pro-accounts",label:"Nb comptes pros cr\xe9es",name:"nbProAccounts",onChange:e.handleChange,type:"number",variant:"outlined"}))),a.createElement("div",{style:{height:16}}),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-beneficiaries",label:"Nb benefs rencontr\xe9s",name:"nbBeneficiaries",onChange:e.handleChange,type:"number",variant:"outlined"})),a.createElement("div",{style:{width:8}}),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-beneficiaries-accounts",label:"Nb comptes benef cr\xe9es",name:"nbBeneficiariesAccounts",onChange:e.handleChange,type:"number",variant:"outlined"})),a.createElement("div",{style:{width:8}}),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-docs-stored",label:"Nb doc stock\xe9s",name:"nbStoredDocs",onChange:e.handleChange,type:"number",variant:"outlined"}))),a.createElement($.a,{id:"attendees",name:"attendees",type:"text",label:"Qui a fait la perm",margin:"normal",variant:"outlined",onChange:e.handleChange}),e.errors.attendees&&a.createElement("div",{id:"feedback"},e.errors.attendees),a.createElement($.a,{id:"place",name:"place",type:"text",label:"Lieu (optionnel)",margin:"normal",variant:"outlined",value:e.values.place,onChange:e.handleChange}),e.errors.place&&a.createElement("div",{id:"feedback"},e.errors.place),a.createElement($.a,{id:"beneficiaries-notes",name:"beneficiariesNotes",type:"text",label:"Remarques en rapport avec les b\xe9n\xe9ficiaires",margin:"normal",variant:"outlined",multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.beneficiariesNotes&&a.createElement("div",{id:"feedback"},e.errors.beneficiariesNotes),a.createElement($.a,{id:"pro-notes",name:"proNotes",type:"text",label:"Remarques en rapport avec les professionnels",margin:"normal",variant:"outlined",multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.proNotes&&a.createElement("div",{id:"feedback"},e.errors.proNotes),a.createElement($.a,{id:"reconnect-notes",name:"reconnectNotes",type:"text",label:"Remarques en rapport avec Reconnect",margin:"normal",variant:"outlined",multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.reconnectNotes&&a.createElement("div",{id:"feedback"},e.errors.reconnectNotes),a.createElement(Q.a,{variant:"contained",color:"primary",type:"submit"},"Cr\xe9er"))}}))});function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function tt(){var e=Object(v.a)(["\n  margin-bottom: 100px;\n  display: flex;\n  flex-direction: column;\n"]);return tt=function(){return e},e}var nt=C.a.form(tt()),at=Object(b.h)(function(e){var t=e.history,n=e.centerId,r=e.closeModal,o=e.note,l=a.useContext(u),i=l.setNotes,s=l.notes,m=a.useState(new Date),d=Object(c.a)(m,2),p=d[0],b=d[1];function v(e){b(e)}return a.createElement(g.a,{maxWidth:"sm"},a.createElement(xe.a,{enableReinitialize:!0,initialValues:o,onSubmit:function(e){!function(e){var n=localStorage.getItem("token");null!==n?w.a.put("".concat(V,"/").concat(e.id)).send(e).set("Authorization","Bearer ".concat(n)).then(function(e){r(),i(s.map(function(t){return t.id===e.body.id?e.body:t}))}):(alert("Il semble que vous ne soyez pas connect\xe9, veuillex vous reconnecter"),t.push("/login"))}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{date:p,center:"/api/centers/".concat(n)}))}},function(e){return a.createElement(nt,{onSubmit:e.handleSubmit},a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1}},a.createElement($e.a,{utils:Ue.a},a.createElement(Ge.a,{disableToolbar:!0,format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Date",onChange:v,variant:"inline",value:p,KeyboardButtonProps:{"aria-label":"change date"}}))),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"hours",label:"Nombre d'heures",name:"hours",onChange:e.handleChange,value:e.values.hours,type:"number",variant:"outlined"}))),a.createElement("div",{style:{height:16}}),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-pros",label:"Nb pros rencontr\xe9s",name:"nbPros",onChange:e.handleChange,type:"number",value:e.values.nbPros,variant:"outlined"})),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-pro-accounts",label:"Nb comptes pros cr\xe9es",name:"nbProAccounts",onChange:e.handleChange,value:e.values.nbProAccounts,type:"number",variant:"outlined"}))),a.createElement("div",{style:{height:16}}),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-beneficiaries",label:"Nb benefs rencontr\xe9s",name:"nbBeneficiaries",onChange:e.handleChange,type:"number",value:e.values.nbBeneficiaries,variant:"outlined"})),a.createElement("div",{style:{width:8}}),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-beneficiaries-accounts",label:"Nb comptes benef cr\xe9es",name:"nbBeneficiariesAccounts",value:e.values.nbBeneficiariesAccounts,onChange:e.handleChange,type:"number",variant:"outlined"})),a.createElement("div",{style:{width:8}}),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement($.a,{id:"nb-docs-stored",label:"Nb doc stock\xe9s",name:"nbStoredDocs",onChange:e.handleChange,value:e.values.nbStoredDocs,type:"number",variant:"outlined"}))),a.createElement($.a,{id:"attendees",name:"attendees",type:"text",label:"Qui a fait la perm",margin:"normal",variant:"outlined",value:e.values.attendees,onChange:e.handleChange}),e.errors.attendees&&a.createElement("div",{id:"feedback"},e.errors.attendees),a.createElement($.a,{id:"place",name:"place",type:"text",label:"Lieu (optionnel)",margin:"normal",variant:"outlined",value:e.values.place,onChange:e.handleChange}),e.errors.place&&a.createElement("div",{id:"feedback"},e.errors.place),a.createElement($.a,{id:"beneficiaries-notes",name:"beneficiariesNotes",type:"text",label:"Remarques en rapport avec les b\xe9n\xe9ficiaires",margin:"normal",variant:"outlined",multiline:!0,rows:"4",value:e.values.beneficiariesNotes,onChange:e.handleChange}),e.errors.beneficiariesNotes&&a.createElement("div",{id:"feedback"},e.errors.beneficiariesNotes),a.createElement($.a,{id:"pro-notes",name:"proNotes",type:"text",label:"Remarques en rapport avec les professionnels",margin:"normal",variant:"outlined",value:e.values.proNotes,multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.proNotes&&a.createElement("div",{id:"feedback"},e.errors.proNotes),a.createElement($.a,{id:"reconnect-notes",name:"reconnectNotes",value:e.values.reconnectNotes,type:"text",label:"Remarques en rapport avec Reconnect",margin:"normal",variant:"outlined",multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.reconnectNotes&&a.createElement("div",{id:"feedback"},e.errors.reconnectNotes),a.createElement(Q.a,{variant:"contained",color:"primary",type:"submit"},"Mettre \xe0 jour"))}))}),rt=n(276),ot=n(277),lt=n(296),ct=n(154),it=n.n(ct),st=n(156);function ut(){var e=Object(v.a)(["\n  margin: 8px;\n"]);return ut=function(){return e},e}function mt(){var e=Object(v.a)(["\n  position: absolute !important;\n  right: 10px;\n  top: 10px;\n"]);return mt=function(){return e},e}function dt(){var e=Object(v.a)(["\n  margin-bottom: 10px;\n"]);return dt=function(){return e},e}var pt=Object(C.a)(rt.a)(dt()),bt=Object(C.a)(h.a)(mt()),ft=Object(C.a)(U.a)(ut()),vt=Object(b.h)(function(e){e.history,e.match;var t=e.note,n=e.editNote;return r.a.createElement(pt,{key:t.id},r.a.createElement(ot.a,{style:{position:"relative",backgroundColor:"#212121"}},r.a.createElement(bt,{size:"small",color:"primary","aria-label":"add",onClick:function(){return n(t.id)}},r.a.createElement(it.a,null)),r.a.createElement(E.a,{color:"textPrimary",gutterBottom:!0},"Date : ",Object(st.a)(new Date(t.date),"dd-MM-yyyy")),r.a.createElement(E.a,{variant:"body2",component:"p"},"Dur\xe9e : ",t.hours," h"),t.attendees?r.a.createElement(E.a,{variant:"body2",component:"p"},"Participants : ",t.attendees):null,t.place?r.a.createElement(E.a,{variant:"body2",component:"p"},"Lieu : ",t.place):null,r.a.createElement(ft,{avatar:r.a.createElement(lt.a,null,t.nbPros),label:"Professionnels rencontr\xe9s"}),r.a.createElement(ft,{avatar:r.a.createElement(lt.a,null,t.nbProAccounts),label:"Comptes pro cr\xe9es"}),r.a.createElement(ft,{avatar:r.a.createElement(lt.a,null,t.nbBeneficiaries),label:"B\xe9n\xe9ficiaires rencontr\xe9s"}),r.a.createElement(ft,{avatar:r.a.createElement(lt.a,null,t.nbBeneficiariesAccounts),label:"Comptes b\xe9n\xe9ficiaires cr\xe9es"}),r.a.createElement(ft,{avatar:r.a.createElement(lt.a,null,t.nbStoredDocs),label:"Documents stock\xe9s"}),r.a.createElement(E.a,{variant:"subtitle1"},"Remarques concernant les b\xe9n\xe9ficiaires"),r.a.createElement(E.a,{variant:"body2",component:"p"},t.beneficiariesNotes),r.a.createElement(E.a,{variant:"subtitle1"},"Remarques concernant les professionnels"),r.a.createElement(E.a,{variant:"body2",component:"p"},t.proNotes),r.a.createElement(E.a,{variant:"subtitle1"},"Remarques concernant Reconnect"),r.a.createElement(E.a,{variant:"body2",component:"p"},t.reconnectNotes)))}),ht={name:"",workshops:[],notes:[],beneficiaryCount:"",createdBeneficiaryCount:"",documentsCount:""};var Et=function(){var e=r.a.useState(ht),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(b.e)();return{center:n,fetchCenter:Object(a.useCallback)(function(e){var t=localStorage.getItem("token");null!==t?B.a.get("".concat(q,"/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then(function(e){o(e.data)}):l.push("/login")},[l])}};function gt(){var e=Object(v.a)(["\n  position: absolute;\n  right: 0;\n"]);return gt=function(){return e},e}function yt(){var e=Object(v.a)(["\n  position: relative;\n  align-self: stretch;\n  flex: 1;\n"]);return yt=function(){return e},e}function Ot(){var e=Object(v.a)(["\n  flex: 1;\n"]);return Ot=function(){return e},e}function jt(){var e=Object(v.a)(["\n  display: flex;\n  position: relative;\n"]);return jt=function(){return e},e}function Ct(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 32px;\n  margin-bottom: 32px;\n"]);return Ct=function(){return e},e}function xt(){var e=Object(v.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  color: whitesmoke;\n"]);return xt=function(){return e},e}var wt=C.a.div(xt()),kt=C.a.div(Ct()),Pt=C.a.div(jt()),Nt=Object(C.a)(E.a)(Ot()),St=C.a.div(yt()),Bt=Object(C.a)(h.a)(gt()),Dt=Object(b.h)(function(e){var t=e.history,n=e.match,o=Object(_e.a)(!1),l=Object(_e.a)(!1),i=Object(Je.useNumber)(0),s=Object(c.a)(i,2),m=s[0],d=s[1],p=Object(Je.useNumber)(0),b=Object(c.a)(p,2),f=b[0],v=b[1],h=Object(Je.useNumber)(1),y=Object(c.a)(h,2),O=y[0],j=y[1],C=n.params.centerId,x=Object(a.useContext)(u),k=x.notes,P=x.setNotes,N=Et(),S=N.center,B=N.fetchCenter;Object(a.useEffect)(function(){B(C)},[B,C]);var D=Object(a.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=localStorage.getItem("token");null!==n?w.a.get("".concat(V,"?center=").concat(C,"&page=").concat(e)).set("Authorization","Bearer ".concat(n)).then(function(e){v.setValue(e.body["hydra:totalItems"]),P(e.body["hydra:member"])}):t.push("/login")},[C,t]);Object(a.useEffect)(function(){D()},[D,C]);var I=function(e){d.setValue(e),l.setTrue()};return r.a.createElement(g.a,{maxWidth:"sm"},r.a.createElement(Re.a,{fullScreen:!0,open:o.value,onClose:o.setFalse,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ve.a,{id:"form-dialog-title"},"Cr\xe9er une note"),r.a.createElement(Fe.a,null,r.a.createElement(Ze,{centerId:C,closeModal:o.setFalse})),r.a.createElement(Te.a,null,r.a.createElement(Q.a,{onClick:o.setFalse,color:"primary"},"Annuler"))),r.a.createElement(Re.a,{fullScreen:!0,open:l.value,onClose:l.setFalse,"aria-labelledby":"edit-note"},r.a.createElement(Ve.a,{id:"edit-note"},"Modifier la note"),r.a.createElement(Fe.a,null,r.a.createElement(at,{centerId:C,note:k.find(function(e){return e.id===m}),closeModal:l.setFalse})),r.a.createElement(Te.a,null,r.a.createElement(Q.a,{onClick:l.setFalse,color:"primary"},"Annuler"))),r.a.createElement(wt,null,r.a.createElement(Nt,{variant:"h4",gutterBottom:!0,color:"textPrimary"},S.name),r.a.createElement(E.a,null,"Nb permanences: ",S.notes.length),r.a.createElement(E.a,null,"Nb b\xe9nef rencontr\xe9s: ",S.beneficiaryCount),r.a.createElement(E.a,null,"Nb CFN cr\xe9es: ",S.createdBeneficiaryCount),r.a.createElement(E.a,null,"Nb docs stock\xe9s: ",S.documentsCount),r.a.createElement("br",null),r.a.createElement(Pt,null,r.a.createElement(ze.a,null),r.a.createElement(St,null,r.a.createElement(ze.a,null),r.a.createElement(Nt,{variant:"h4",gutterBottom:!0,color:"textPrimary"},"Permanences"),r.a.createElement(Bt,{size:"medium",color:"primary","aria-label":"add",onClick:o.setTrue},r.a.createElement(Le.a,null)))),r.a.createElement(kt,null,r.a.createElement(Ke.a,{count:Math.ceil(f/30),variant:"outlined",page:O,onChange:function(e,t){j.setValue(t),D(t)}})),k.map(function(e){return r.a.createElement(vt,{note:e,key:e.id,editNote:I})})))}),It=n(281),At=n(289),qt=n(282),Mt=n(275),Rt=function(e){var t=e.label,n=e.handleChange,a=e.value;return r.a.createElement($e.a,{utils:Ue.a},r.a.createElement(Ge.a,{disableToolbar:!0,format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:t,onChange:n,variant:"inline",value:a,KeyboardButtonProps:{"aria-label":"change date"}}))},Vt=n(268),Ft=n(266),Tt=n(294),zt=n(280),Kt=n(287);function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Lt(e,t){return e[t]?e[t].name:""}function _t(e,t){return e[t]?e[t]:{}}function Jt(e,t){var n=_t(e,t);return Object.keys(n).map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n[e],{"@id":e})})}var Qt=function(e){var t=e.id,n=e.label,o=e.value,l=e.setFieldValue,c=Jt(Object(a.useContext)(d).dropdowns,t),i=c||[];return r.a.createElement(Vt.a,{style:{flex:1}},r.a.createElement(Tt.a,{id:t},n),r.a.createElement(Kt.a,{labelId:t,id:t,multiple:!0,value:o||[],onChange:function(e){l(t,e.target.value)},input:r.a.createElement(Ft.a,{id:t}),renderValue:function(e){return r.a.createElement("div",null,e.map(function(e){var t=i.find(function(t){return t["@id"]===e});return r.a.createElement(U.a,{key:e,label:t?t.name:""})}))}},i.map(function(e){return r.a.createElement(zt.a,{key:e["@id"],value:e["@id"]},e.name)})))},Ut=function(e){var t=e.id,n=e.label,a=e.handleChange,o=e.value;return r.a.createElement($.a,{id:t,label:n,name:t,onChange:a,type:"number",variant:"outlined",style:{marginLeft:8,marginRight:8,flex:1},value:o})};function $t(){var e=Object(v.a)(["\n  display: flex;\n  margin-top: 16px;\n"]);return $t=function(){return e},e}var Gt=C.a.div($t()),Ht=function(e){var t=e.children;return r.a.createElement(Gt,null,t)},Xt=function(e){var t=e.workshop,n=e.onSubmit,o=Object(b.e)(),l=r.a.useState(new Date),i=Object(c.a)(l,2),s=i[0],u=i[1],m=Object(Je.useBoolean)(!1),p=Object(c.a)(m,2),f=p[0],v=p[1],h=Object(a.useContext)(d).dropdowns,E=_t(h,"skills"),g=Jt(h,"skills");return r.a.createElement(xe.a,{initialValues:t,onSubmit:function(){var e=Object(N.a)(P.a.mark(function e(t){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.setTrue(),e.next=3,n(t);case 3:setTimeout(function(){v.setFalse(),o.push("/")},500);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),render:function(e){var n=e.handleChange,a=e.handleSubmit,o=e.values,l=e.setFieldValue;return r.a.createElement("form",{onSubmit:a},r.a.createElement(Ht,null,r.a.createElement(Rt,{label:"Date",handleChange:u,value:s}),r.a.createElement(Ut,{id:"nbParticipants",value:o.nbParticipants,label:"Nombre de participants",handleChange:n})),r.a.createElement(Ht,null,r.a.createElement(Qt,{id:"topics",label:"Th\xe8mes",value:o.topics,setFieldValue:function(e,t){l("topics",t),l("skills",function(e,t){var n=e;return t.reduce(function(e,t){return[].concat(Object(Qe.a)(e),Object(Qe.a)(g.filter(function(e){return e.topic["@id"]===t})))},[]).forEach(function(e){n.includes(e["@id"])||n.push(e["@id"])}),n}(o.skills,t))}})),r.a.createElement(Ht,null,r.a.createElement("div",null,o.skills.map(function(e){return r.a.createElement(U.a,{key:e,label:Lt(E,e),variant:"outlined",onDelete:function(){return l("skills",o.skills.filter(function(t){return t!==e}))}})}))),r.a.createElement(Ht,null,r.a.createElement(Qt,{id:"participantKinds",label:"Types de participants",value:o.participantKinds,setFieldValue:l})),r.a.createElement(Ht,null,r.a.createElement(Qt,{id:"ageBreakpoints",label:"Tranches d'\xe2ge",value:o.ageBreakpoints,setFieldValue:l})),r.a.createElement(Ht,null,r.a.createElement(Qt,{id:"usedEquipments",label:"Outils utilis\xe9s",value:o.usedEquipments,setFieldValue:l})),r.a.createElement(Ht,null,r.a.createElement(Qt,{id:"equipmentSuppliers",label:"Equipement fourni par",value:o.equipmentSuppliers,setFieldValue:l})),r.a.createElement(Ht,null,r.a.createElement($.a,{value:o.globalReport,label:"Bilan global",name:"globalReport",type:"text",variant:"outlined",multiline:!0,rows:"4",onChange:n,style:{flex:1}})),r.a.createElement(Ht,null,r.a.createElement(It.a,{control:r.a.createElement(At.a,{value:o.usedVault,onChange:function(e,t){l("usedVault",t)},color:"primary"}),label:r.a.createElement("span",{style:{color:"white"}},"Coffre-fort num\xe9rique")})),o.usedVault?r.a.createElement(qt.a,null,r.a.createElement(Ht,null,r.a.createElement(Ut,{id:"nbBeneficiariesAccounts",value:o.nbBeneficiariesAccounts,label:"Nombre de cfn cr\xe9es",handleChange:n}),r.a.createElement(Ut,{id:"nbStoredDocs",value:o.nbStoredDocs,label:"Nombre de documents stock\xe9s",handleChange:n})),r.a.createElement(Ht,null,r.a.createElement(Ut,{id:"nbCreatedEvents",value:o.nbCreatedEvents,label:"\xc9v\xe8nements ajout\xe9s",handleChange:n}),r.a.createElement(Ut,{id:"nbCreatedContacts",value:o.nbCreatedContacts,label:"Contacts ajout\xe9s",handleChange:n}),r.a.createElement(Ut,{id:"nbCreatedNotes",value:o.nbCreatedNotes,label:"Notes ajout\xe9es",handleChange:n}))):null,r.a.createElement(Ht,null,f?r.a.createElement(Q.a,{variant:"contained",color:"primary",disabled:!0,style:{marginLeft:"auto"}},r.a.createElement(Mt.a,{size:20})):r.a.createElement(Q.a,{variant:"contained",color:"primary",type:"submit",style:{marginLeft:"auto"}},t.id?"Mettre \xe0 jour":"Cr\xe9er")))}})},Yt=function(){var e,t=Object(b.g)().workshopId,n=Object(a.useState)(null),o=Object(c.a)(n,2),l=o[0],i=o[1],s=l?(e=l,"".concat(D).concat(e["@id"])):"";ie("".concat(T,"/").concat(parseInt(t)),i);var u=ce(s,null,"PUT");return r.a.createElement(g.a,{maxWidth:"sm"},null===l?r.a.createElement(r.a.Fragment,null):r.a.createElement(Xt,{workshop:l,onSubmit:u}))},Zt=function(e){var t=e.list,n=e.dropdownKind,o=Object(a.useContext)(d).dropdowns,l=n?_t(o,n):{};return r.a.createElement(r.a.Fragment,null,t.map(function(e){return r.a.createElement(U.a,{key:e,label:Lt(l,e),variant:"outlined"})}))};function en(){var e=Object(v.a)(["\n  margin-bottom: 10px;\n"]);return en=function(){return e},e}var tn=Object(C.a)(rt.a)(en()),nn=function(e){var t=e.workshop;return r.a.createElement(tn,null,r.a.createElement(ot.a,{style:{position:"relative",backgroundColor:"#212121"}},r.a.createElement(E.a,{color:"textPrimary",gutterBottom:!0},"Date : ",Object(st.a)(new Date(t.date),"dd-MM-yyyy")),r.a.createElement(E.a,null,"Nombre de participants : ",t.nbParticipants),r.a.createElement("div",null,"Th\xe8mes : ",r.a.createElement(Zt,{list:t.topics,dropdownKind:"topics"})),t.topicPrecision?r.a.createElement(E.a,{variant:"body2",component:"p"},"Pr\xe9cisions sur le th\xe8me : ",t.topicPrecision):null,r.a.createElement("div",null,"Comp\xe9tences : ",r.a.createElement(Zt,{list:t.skills,dropdownKind:"skills"})),r.a.createElement("div",null,"Types de participants : ",r.a.createElement(Zt,{list:t.participantKinds,dropdownKind:"participantKinds"})),r.a.createElement("div",null,"Tranches d'\xe2ge : ",r.a.createElement(Zt,{list:t.ageBreakpoints,dropdownKind:"ageBreakpoints"})),r.a.createElement("div",null,"Outils utilis\xe9s : ",r.a.createElement(Zt,{list:t.usedEquipments,dropdownKind:"usedEquipments"})),r.a.createElement("div",null,"Equipement fourni par : ",r.a.createElement(Zt,{list:t.equipmentSuppliers,dropdownKind:"equipmentSuppliers"})),r.a.createElement(E.a,null,"Bilan global : ",t.globalReport),t.usedVault?r.a.createElement("div",null,r.a.createElement(E.a,null,"Coffre-fort num\xe9rique"),r.a.createElement(E.a,{variant:"body2",component:"p"},"Nb CFN cr\xe9\xe9s : ",t.nbBeneficiariesAccounts),r.a.createElement(E.a,{variant:"body2",component:"p"},"Nb documents : ",t.nbStoredDocs),r.a.createElement(E.a,{variant:"body2",component:"p"},"Nb rappels : ",t.nbCreatedEvents),r.a.createElement(E.a,{variant:"body2",component:"p"},"Nb contacts : ",t.nbCreatedContacts),r.a.createElement(E.a,{variant:"body2",component:"p"},"Nb notes : ",t.nbCreatedNotes)):null))};function an(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 32px;\n  margin-bottom: 32px;\n"]);return an=function(){return e},e}function rn(){var e=Object(v.a)(["\n  position: absolute;\n  right: 0;\n"]);return rn=function(){return e},e}function on(){var e=Object(v.a)(["\n  flex: 1;\n"]);return on=function(){return e},e}function ln(){var e=Object(v.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  color: whitesmoke;\n"]);return ln=function(){return e},e}var cn=C.a.div(ln()),sn=Object(C.a)(E.a)(on()),un=Object(C.a)(h.a)(rn()),mn=C.a.div(an()),dn=function(){var e=r.a.useState(null),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(b.e)(),i=Object(b.g)().centerId,s=Object(a.useContext)(m),u=s.workshops,d=s.setWorkshops,p=Object(Je.useNumber)(0),f=Object(c.a)(p,2),v=f[0],h=f[1],y=Math.ceil(v/30),O=function(){var e=Object(b.f)().search;return r.a.useMemo(function(){return new URLSearchParams(e)},[e])}().get("page"),j=null===O?1:O;ie("".concat(q,"/").concat(i),o),ie("".concat(T,"?center=").concat(i,"&page=").concat(j),function(e){d(e["hydra:member"]),h.setValue(e["hydra:totalItems"])});var C=function(){var e=Object(N.a)(P.a.mark(function e(t,n){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.push("/centers/".concat(i,"/workshops?page=").concat(null===n?"1":n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(g.a,{maxWidth:"sm"},null===n?null:r.a.createElement(cn,null,r.a.createElement(sn,{variant:"h4",gutterBottom:!0,color:"textPrimary"},n.name),r.a.createElement(E.a,null,"Nb d'ateliers : ",n.workshops.length)),r.a.createElement(sn,{variant:"h4",gutterBottom:!0,color:"textPrimary"},"Ateliers"),null===n?null:r.a.createElement(un,{size:"medium",color:"primary","aria-label":"add",onClick:function(){return l.push("/centers/".concat(n.id,"/create-workshop"))}},r.a.createElement(Le.a,null)),r.a.createElement(mn,null,r.a.createElement(Ke.a,{count:y,variant:"outlined",page:parseInt(j),onChange:C})),u.map(function(e){return r.a.createElement(nn,{key:e["@id"],workshop:e})}))},pn=function(){var e=Object(b.g)().centerId,t={center:"".concat(q,"/").concat(e),date:new Date,skills:[],nbParticipants:0,nbBeneficiariesAccounts:0,nbStoredDocs:0,nbCreatedEvents:0,nbCreatedContacts:0,nbCreatedNotes:0},n=ce(T,null,"POST");return r.a.createElement(g.a,{maxWidth:"sm"},r.a.createElement(Xt,{workshop:t,onSubmit:n}))},bn=function(){return a.createElement(p.a,null,a.createElement(b.a,{path:"/",exact:!0,component:Oe}),a.createElement(b.a,{path:"/login",component:Me}),a.createElement(b.a,{path:"/charts",component:J}),a.createElement(b.a,{path:"/notes/:centerId",component:Dt}),a.createElement(b.a,{path:"/centers/:centerId/workshops",component:dn}),a.createElement(b.a,{path:"/workshop/:workshopId/edit",component:Yt}),a.createElement(b.a,{path:"/centers/:centerId/create-workshop",component:pn}))},fn=Object(i.a)({palette:{type:"dark",background:{default:"#203468",paper:"#203468"},text:{primary:"#eff1f7",secondary:"#eff1f7"},primary:{main:"#eff1f7",contrastText:"#677273"}}}),vn=function(){var e=a.useState([]),t=Object(c.a)(e,2),n=t[0],r=t[1],o=a.useState([]),l=Object(c.a)(o,2),i=l[0],p=l[1],b=a.useState({}),f=Object(c.a)(b,2),v=f[0],h=f[1];return ie(M,h),a.createElement(s.a,{theme:fn},a.createElement(m.Provider,{value:{workshops:i,setWorkshops:p}},a.createElement(u.Provider,{value:{notes:n,setNotes:r}},a.createElement(d.Provider,{value:{dropdowns:v,setDropdowns:h}},a.createElement(bn,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(vn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[178,1,2]]]);
//# sourceMappingURL=main.150f287a.chunk.js.map